{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Development/code/article/src/pages/EditArticle/EditArticle.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditArticle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSaveClick = () => {\n      this.setState({\n        isEditing: false\n      });\n      // Save the new content to the server\n      // e.g. using fetch\n      fetch('http://localhost:3000/blogList', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: this.state.title,\n          description: this.state.description\n        })\n      }).then(res => res.json()).then(data => console.log(data)).catch(error => console.error(error));\n    };\n    this.handleTitleInput = event => {\n      this.setState({\n        title: event.target.innerHTML\n      });\n    };\n    this.handleDescriptionInput = event => {\n      this.setState({\n        description: event.target.innerHTML\n      });\n    };\n    this.state = {\n      isEditing: false,\n      title: props.title,\n      description: props.description\n    };\n    this.titleRef = React.createRef();\n    this.descriptionRef = React.createRef();\n  }\n  componentDidUpdate() {\n    if (this.state.isEditing) {\n      this.titleRef.current.focus();\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: this.titleRef,\n          contentEditable: true,\n          onInput: this.handleTitleInput,\n          dangerouslySetInnerHTML: {\n            __html: this.state.title\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: this.descriptionRef,\n          contentEditable: true,\n          onInput: this.handleDescriptionInput,\n          dangerouslySetInnerHTML: {\n            __html: this.state.description\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleSaveClick,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Article, {\n          title: this.state.title,\n          description: this.state.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.setState({\n            isEditing: true\n          }),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["EditArticle","React","Component","constructor","props","handleSaveClick","setState","isEditing","fetch","method","headers","body","JSON","stringify","title","state","description","then","res","json","data","console","log","catch","error","handleTitleInput","event","target","innerHTML","handleDescriptionInput","titleRef","createRef","descriptionRef","componentDidUpdate","current","focus","render","__html"],"sources":["/home/moringa/Development/code/article/src/pages/EditArticle/EditArticle.js"],"sourcesContent":["class EditArticle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false,\n      title: props.title,\n      description: props.description\n    };\n    this.titleRef = React.createRef();\n    this.descriptionRef = React.createRef();\n  }\n\n  handleSaveClick = () => {\n    this.setState({ isEditing: false });\n    // Save the new content to the server\n    // e.g. using fetch\n    fetch('http://localhost:3000/blogList', {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ title: this.state.title, description: this.state.description }),\n    })\n    .then(res => res.json())\n    .then(data => console.log(data))\n    .catch(error => console.error(error))\n  }\n\n  handleTitleInput = (event) => {\n    this.setState({ title: event.target.innerHTML });\n  }\n\n  handleDescriptionInput = (event) => {\n    this.setState({ description: event.target.innerHTML });\n  }\n\n  componentDidUpdate() {\n    if (this.state.isEditing) {\n      this.titleRef.current.focus();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.isEditing ? (\n          <div>\n            <div \n              ref={this.titleRef}\n              contentEditable={true} \n              onInput={this.handleTitleInput} \n              dangerouslySetInnerHTML={{ __html: this.state.title }}\n            />\n            <div \n              ref={this.descriptionRef}\n              contentEditable={true} \n              onInput={this.handleDescriptionInput} \n              dangerouslySetInnerHTML={{ __html: this.state.description }}\n            />\n            <button onClick={this.handleSaveClick}>Save</button>\n          </div>\n        ) : (\n          <div>\n            <Article title={this.state.title} description={this.state.description} />\n            <button onClick={() => this.setState({ isEditing: true })}>Edit</button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}